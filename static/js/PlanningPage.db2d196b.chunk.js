(this["webpackJsonpkids-land"]=this["webpackJsonpkids-land"]||[]).push([[5],{106:function(e,t,a){e.exports=a.p+"static/media/victoryLogo.afad4134.svg"},109:function(e,t,a){var n={"./bed.jpg":110,"./book.jpg":111,"./flowers.jpg":112,"./sweep.jpg":113,"./teeth.jpg":114,"./toys.jpg":115,"./trash.jpg":116,"./vacuum.jpg":117};function r(e){var t=o(e);return a(t)}function o(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=o,e.exports=r,r.id=109},110:function(e,t,a){e.exports=a.p+"static/media/bed.63527666.jpg"},111:function(e,t,a){e.exports=a.p+"static/media/book.7aa72216.jpg"},112:function(e,t,a){e.exports=a.p+"static/media/flowers.17449c90.jpg"},113:function(e,t,a){e.exports=a.p+"static/media/sweep.57108b3e.jpg"},114:function(e,t,a){e.exports=a.p+"static/media/teeth.b97b94dd.jpg"},115:function(e,t,a){e.exports=a.p+"static/media/toys.63753289.jpg"},116:function(e,t,a){e.exports=a.p+"static/media/trash.d9c4ad83.jpg"},117:function(e,t,a){e.exports=a.p+"static/media/vacuum.34a51319.jpg"},118:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(0),r=a.n(n),o=a(119),s=a.n(o),i=function(){var e=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:s.a.footerLogoContainer},r.a.createElement("span",{className:s.a.footerlogoLabel},"KidsLike"),r.a.createElement("img",{alt:"logo",className:s.a.footerLogoIcon,src:a(106)})),r.a.createElement("div",{className:s.a.footerDevContainer},r.a.createElement("span",{className:s.a.footerDevLabel},"\u0420\u043e\u0431\u0438\u043c\u043e \u0436\u0438\u0442\u0442\u044f \u0431\u0430\u0442\u044c\u043a\u0456\u0432 \u0456 \u0434\u0456\u0442\u0435\u0439 \u0456\u0437\u0456",r.a.createElement("span",{style:{fontSize:"16px"}},"\u263a")),r.a.createElement("span",{className:s.a.footerDevCredit},"GoIT / BC18"),r.a.createElement("span",{className:s.a.footerDevYear},"2020")));return window.innerWidth>767&&(e=r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:s.a.footerLogoLabel},"KidsLike"),r.a.createElement("img",{alt:"maket",className:s.a.footerLogoIcon,src:a(106)}),r.a.createElement("span",{className:s.a.footerDevLabel},"|  \u0420\u043e\u0431\u0438\u043c\u043e \u0436\u0438\u0442\u0442\u044f \u0431\u0430\u0442\u044c\u043a\u0456\u0432 \u0456 \u0434\u0456\u0442\u0435\u0439 \u0456\u0437\u0456 ",":)","  |"),r.a.createElement("span",{className:s.a.footerDevCredit},"GoIT / BC18 2020"))),r.a.createElement("footer",{className:s.a.footer},e)}},119:function(e,t,a){e.exports={footer:"styles_footer__1iZJk",footerLogoContainer:"styles_footerLogoContainer__M6EyT",footerLogoIcon:"styles_footerLogoIcon__vrzFa",footerDevLabelSmile:"styles_footerDevLabelSmile__3lwe9",footerDevLabel:"styles_footerDevLabel__TU71u",footerDevCredit:"styles_footerDevCredit__3KMgc",footerDevYear:"styles_footerDevYear__2wqZs",footerLogoLabel:"styles_footerLogoLabel__2FGAG",footerDevContainer:"styles_footerDevContainer__1oQ9d"}},141:function(e,t,a){e.exports={Card__list:"Card_Card__list__1IYQH",Card__listFooter:"Card_Card__listFooter__bukaS",Card__listImg:"Card_Card__listImg__2QNEL",Card__listTitle:"Card_Card__listTitle__3ZVlo",Card__listPoint:"Card_Card__listPoint__3kmca",Card__listText:"Card_Card__listText__2IwFe",Card__listUl:"Card_Card__listUl__IE9cC",Popup:"Card_Popup__4P5Il",Popup__li:"Card_Popup__li__1OlAK",Card__plus:"Card_Card__plus__NUoeN"}},153:function(e,t,a){e.exports={enter:"CardTransition_enter__LjIAW",enterActive:"CardTransition_enterActive__2Hj_F",exit:"CardTransition_exit__3FcuE",exitActive:"CardTransition_exitActive__hck5i"}},154:function(e,t,a){e.exports={Card__ButtonPlus:"ButtonPlus_Card__ButtonPlus__2ALns"}},155:function(e,t,a){e.exports=a.p+"static/media/3.ccc37222.jpg"},156:function(e,t,a){e.exports={planningPointsScore:"styles_planningPointsScore__3yfoQ",planningPointsScoreLabel:"styles_planningPointsScoreLabel__1WyLD",planningPointsContainer:"styles_planningPointsContainer__1OWti"}},157:function(e,t,a){e.exports={addTaskBtn:"styles_addTaskBtn__1LvyC",addTaskBtnLabel:"styles_addTaskBtnLabel__Wn2aY",addTaskBtnContainer:"styles_addTaskBtnContainer__1bbbg"}},158:function(e,t,a){e.exports={backdrop:"NewTaskModal_backdrop__1jEJl",content:"NewTaskModal_content__3a5pR",form:"NewTaskModal_form__2jYFI",formContainer:"NewTaskModal_formContainer__1hqzs",input:"NewTaskModal_input__3RZ52",buttonClose:"NewTaskModal_buttonClose__13sSL",buttonSubmit:"NewTaskModal_buttonSubmit__2ib0Z"}},159:function(e,t,a){e.exports={wrapper:"CurrentWeekPlaning_wrapper__2K8ej",week:"CurrentWeekPlaning_week__1oVNM"}},160:function(e,t,a){e.exports={containerStyles:"styles_containerStyles__hjYWc",topComponentsContainer:"styles_topComponentsContainer__29fA6"}},199:function(e,t,a){"use strict";a.r(t);var n=a(24),r=a(0),o=a.n(r),s=a(20),i=a(141),l=a.n(i),c=a(4),u=a.n(c),m=a(12),_=a(28),d=a(153),p=a.n(d),f=a(196),C=a(154),v=a.n(C);function k(e){var t=e.onClick,a=e.children;return o.a.createElement("button",{className:v.a.Card__ButtonPlus,onClick:t},a)}var E=a(19),b=a.n(E),g=function(e){var t=e.data,r=t.imgName,s=t.title,i=t.taskPoints,c=t.days,u=t._id,m=e.plusPoint,d=e.getTasks,p=o.a.useState({visible:!1}),f=Object(n.a)(p,2),C=f[0],v=f[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement("li",{className:l.a.Card__list},o.a.createElement(N,{visible:C.visible,days:c,point:i,plusPoint:m,id:u}),o.a.createElement("div",null,o.a.createElement("img",{src:r?a(109)("./".concat(r,".jpg")):a(155),alt:"img",className:l.a.Card__listImg})),o.a.createElement("div",{className:l.a.Card__listFooter},o.a.createElement("div",{className:l.a.Card__listText},o.a.createElement("p",{className:l.a.Card__listTitle},s),o.a.createElement("p",{className:l.a.Card__listPoint},i," \u0411\u0410\u041bI\u0412")),o.a.createElement("div",null,o.a.createElement(k,{onClick:function(){v(Object(_.a)({},C,{visible:!C.visible}))}},C.visible?o.a.createElement("span",{onClick:function(){return d()}},"Ok"):o.a.createElement("span",{className:l.a.Card__plus},"+"))))))},N=function(e){var t=e.visible,a=e.days,n=e.point,r=e.plusPoint,s=e.id;return o.a.createElement(f.a,{in:t,timeout:500,classNames:p.a,unmountOnExit:!0},o.a.createElement("ul",{className:l.a.Popup},a.map((function(e,t){return o.a.createElement(y,{point:n,plusPoint:r,key:t,text:e.title,checked:e.isActive,id:s})}))))},y=function(e){var t=e.text,a=e.checked,r=e.point,i=e.plusPoint,c=e.id,_=o.a.useState(a),d=Object(n.a)(_,2),p=d[0],f=d[1],C=Object(s.c)((function(e){return e.user})).userToken;return o.a.createElement("li",{className:l.a.Popup__li},o.a.createElement("label",null,o.a.createElement("input",{type:"checkbox",checked:p,onChange:Object(m.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!p),i(p?-1*r:r),e.next=4,h(c,C);case 4:return a=e.sent,e.next=7,j(t,c,C,a);case 7:case"end":return e.stop()}}),e)})))}),o.a.createElement("span",null,t)))},h=function(){var e=Object(m.a)(u.a.mark((function e(t,a){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("https://kidslike.goit.co.ua/api/auth/current",{headers:{"content-type":"application/json",Authorization:"Bearer ".concat(a)}});case 2:return n=e.sent,r=n.data.user.tasks.find((function(e){return e._id===t})),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),j=function(e,t,a,n){var r=n.days.map((function(t){return t.title===e?Object(_.a)({},t,{isActive:!t.isActive}):t}));fetch("https://kidslike.goit.co.ua/api/tasks/".concat(t),{method:"PUT",headers:{"content-type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify({days:r})}).then((function(e){return e.json()})).then((function(e){return console.log(e)}))},T=function(e){var t=e.data,a=e.plusPoint,n=e.getTasks;return o.a.createElement("ul",{className:l.a.Card__listUl},t.map((function(e,t){return o.a.createElement(g,{data:e,key:t,plusPoint:a,getTasks:n})})))},P=a(156),w=a.n(P),L=function(e){var t=e.score,a=void 0===t?"25":t,n=o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:w.a.planningPointsScore},a),o.a.createElement("span",{className:w.a.planningPointsScoreLabel},"\u0411\u0410\u041b\u0418"));return window.innerWidth>767&&(n=o.a.createElement(o.a.Fragment,null,o.a.createElement("span",{className:w.a.planningPointsScoreLabel},"\u0412\u0438\u0437\u043d\u0430\u0447\u0435\u043d\u043e \u0437\u0430\u0432\u0434\u0430\u043d\u044c \u043d\u0430"),o.a.createElement("span",{className:w.a.planningPointsScore},a),o.a.createElement("span",{className:w.a.planningPointsScoreLabel},"\u0431\u0430\u043b\u0438"))),o.a.createElement("div",{className:w.a.planningPointsContainer},n)},x=a(157),O=a.n(x),S=function(e){var t=e.handleOpenTaskModal,a=o.a.createElement("button",{onClick:t,className:O.a.addTaskBtn},"+");return window.innerWidth>767&&(a=o.a.createElement(o.a.Fragment,null,o.a.createElement("p",{className:O.a.addTaskBtnLabel},"\u0425\u043e\u0447\u0435\u0448\u044c \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u0431\u0456\u043b\u044c\u0448\u0435 \u043f\u0440\u0438\u0437\u0456\u0432 - \u0434\u043e\u0434\u0430\u0439 \u0437\u0430\u0432\u0434\u0430\u043d\u043d\u044f ",":)"),o.a.createElement("button",{onClick:t,className:O.a.addTaskBtn},"+"))),o.a.createElement("div",{className:O.a.addTaskBtnContainer},a)},D=a(118),B=a(158),F=a.n(B),A={title:"",taskPoints:""},I=function(e){var t=e.onClose,a=e.onHandleCollectCustomTask,s=Object(r.useRef)(null),i=Object(r.useState)(A),l=Object(n.a)(i,2),c=l[0],u=l[1],m=function(e){"Escape"===e.code&&t(),e.target===e.currentTarget&&t()};Object(r.useEffect)((function(){return window.addEventListener("keydown",m),function(){window.removeEventListener("keydown",m)}}));return o.a.createElement("div",{ref:s,className:F.a.backdrop,onClick:m},o.a.createElement("div",{className:F.a.content},o.a.createElement("div",{className:F.a.image},o.a.createElement("button",{className:F.a.buttonClose,onClick:t})),o.a.createElement("div",{className:F.a.formContainer},o.a.createElement("form",{className:F.a.form,onSubmit:function(e){a(c),e.preventDefault(),t()}},o.a.createElement("label",{className:F.a.inputLabel}),o.a.createElement("input",{className:F.a.input,onChange:function(e){return u(Object(_.a)({},c,{title:e.target.value}))},type:"text",required:!0,pattern:"^[A-Za-z\u0410-\u042f\u0430-\u044f\u0401\u0451\\s]+$",name:"title",placeholder:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0437\u0430\u0432\u0434\u0430\u043d\u043d\u044f",value:c.title}),o.a.createElement("label",{className:F.a.inputLabel}),o.a.createElement("input",{className:F.a.input,onChange:function(e){return u(Object(_.a)({},c,{taskPoints:Number(e.target.value)}))},type:"number",min:"1",name:"taskPoints",placeholder:"\u0414\u043e\u0434\u0430\u0442\u0438 \u0431\u0430\u043b\u0438",required:!0,value:c.taskPoints}),o.a.createElement("button",{className:F.a.buttonSubmit,type:"submit"},"\u041e\u043a")))))},M=a(107),Y=(a(108),a(159)),U=a.n(Y),W=function(){var e=M().startOf("week").format("DD"),t=M().endOf("week").format("DD.MM.YYYY");return o.a.createElement(o.a.Fragment,null,o.a.createElement("p",{className:U.a.wrapper},"\u041f\u043b\u0430\u043d \u043d\u0430 \u0442\u0438\u0436\u0434\u0435\u043d\u044c:",o.a.createElement("span",{className:U.a.week}," ",e," - ",t," ")))},z=a(27),Z=a(160),J=a.n(Z);t.default=function(){var e=o.a.useState([]),t=Object(n.a)(e,2),a=t[0],r=t[1],i=o.a.useState(0),l=Object(n.a)(i,2),c=l[0],u=l[1],m=o.a.useState(!1),_=Object(n.a)(m,2),d=_[0],p=_[1],f=Object(s.c)((function(e){return e.user.userToken}));function C(){return a.reduce((function(e,t){var a=t.days.filter((function(e){return!0===e.isActive})).length;return e+t.taskPoints*a}),0)}var v=C();var k=function(){z.a.getCurrentUser(f).then((function(e){var t=e.data.user;r(t.tasks),t.tasks.length!==a.length&&r(t.tasks)}))};return o.a.useEffect((function(){k()})),o.a.useEffect((function(){C()}),[a]),o.a.createElement("div",{className:J.a.containerStyles},d&&o.a.createElement(I,{onClose:function(){p(!1)},onHandleCollectCustomTask:function(e){z.a.createUserTask(f,e).then((function(e){var t=e.data.tasks;r(t)}))}}),o.a.createElement("div",{className:J.a.topComponentsContainer},o.a.createElement(W,null),o.a.createElement(L,{score:v}),o.a.createElement(S,{handleOpenTaskModal:function(){p(!0)}})),o.a.createElement(T,{plusPoint:function(e){u(c+e)},data:a,getTasks:k}),o.a.createElement(D.a,null))}}}]);
//# sourceMappingURL=PlanningPage.db2d196b.chunk.js.map